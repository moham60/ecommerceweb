import{j as e,$ as y,a as x,r as n,b as k,c as E,L as u,F as h,f as C,d as S,e as L,k as g}from"./index-BAV778vQ.js";import{S as f}from"./index-ClnnB4af.js";import{u as j}from"./useQuery-OXFwXobb.js";import{s as P}from"./shopping-cart-Br3O6plt.js";import{u as I}from"./useWish-BJJSn7pW.js";import{u as _}from"./useAddtoCart-DKUqWBN3.js";const B="/ecommerceweb/assets/%E2%80%94Pngtree%E2%80%94light%20color%20simple%20gourmet%20food_995771-sneo7lMl.jpg",T="/ecommerceweb/assets/%E2%80%94Pngtree%E2%80%94e-commerce%20taobao%20summer%20food%20summer_1057087-CeIPXepO.jpg",A="/ecommerceweb/assets/%E2%80%94Pngtree%E2%80%94e-commerce%20minimalist%20dark%20green%20food_1107732-Bta2GNo_.jpg",F="/ecommerceweb/assets/blog-img-1-DIJTRkhv.jpeg",$="/ecommerceweb/assets/blog-img-2-xCpbw4l4.jpeg";function q(){var a={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1};return e.jsxs("div",{className:"flex p-4 my-4",children:[e.jsx("div",{className:"w-3/4  cursor-grab",children:e.jsxs(f,{...a,autoplay:!0,children:[e.jsx("div",{children:e.jsx("img",{src:A,className:"w-full md:h-72 h-40 ",alt:""})}),e.jsx("div",{children:e.jsx("img",{src:T,className:"w-full md:h-72 h-40 ",alt:""})}),e.jsx("div",{children:e.jsx("img",{src:B,className:"w-full md:h-72 h-40 ",alt:""})})]})}),e.jsxs("div",{className:"w-1/4",children:[e.jsx("div",{children:e.jsx("img",{src:$,className:"w-full md:h-36 h-20",alt:""})}),e.jsx("div",{children:e.jsx("img",{src:F,className:"w-full md:h-36 h-20",alt:""})})]})]})}function D(){async function a(){return x.get("https://ecommerce.routemisr.com/api/v1/categories")}const{isLoading:r,data:l}=j({queryKey:["Categories"],queryFn:a}),c=l==null?void 0:l.data.data;var i={dots:!0,infinite:!0,speed:500,slidesToShow:6,slidesToScroll:3};return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:" font-bold m-3 md:text-3xl dark:text-white text-black",children:"Shop Categories"}),r&&e.jsx("div",{className:"flex justify-center h-52 items-center",children:e.jsx(y,{visible:!0,height:"80",width:"80",ariaLabel:"dna-loading",wrapperStyle:{},wrapperClass:"dna-wrapper"})}),e.jsx("div",{className:"p-4 my-2",children:e.jsx(f,{...i,autoplay:!0,children:c&&c.map(o=>e.jsx("div",{className:" cursor-grab",children:e.jsxs("div",{children:[e.jsx("img",{src:o.image,className:"w-full md:h-48 h-28 block  ",alt:o.name}),e.jsx("h4",{className:"dark:text-white",children:o.name})]})},o._id))})})]})}function R(){async function a(){return x.get("https://ecommerce.routemisr.com/api/v1/products")}return j({queryKey:["Product"],queryFn:a})}function M(){const{isLoading:a,data:r}=R(),l=r==null?void 0:r.data.data,{AddProductToWishlist:c,wishListArray:i,removeProductToWishlist:o}=I(),{token:m}=n.useContext(k),{isLoadingCartOperation:p}=n.useContext(E),v=_();var b=[];function w(s){var t=!1;if(i.map(d=>{d.id===s&&(o(s)&&(g.success("success to remove from wish list"),document.getElementById(s).classList.remove("toggole-heart"),document.getElementById(s).classList.remove("fa-solid"),document.getElementById(s).classList.add("fa-regular")),t=!0)}),!t){const d=c(s);localStorage.setItem("wishStore",b.push(s)),d&&(g.success("success to added to wish list"),document.getElementById(s).classList.add("toggole-heart"),document.getElementById(s).classList.add("fa-solid"),document.getElementById(s).classList.remove("fa-regular"))}}const N=n.useRef(null);return n.useEffect(()=>{m&&N&&(i==null||i.map(s=>{var t=document.getElementById(s.id);t&&t.classList.add("toggole-heart")}))},[m]),e.jsxs("div",{className:"dark:bg-black bg  relative dark:text-white ",children:[p?e.jsxs("div",{className:"fixed z-10 flex items-center justify-center left-0 right-0 top-0 bottom-0 bg-[#e9dede8c]",children:[e.jsx(u,{}),";"]}):"",e.jsxs("div",{className:" container   mx-auto py-4  ",children:[e.jsx(q,{}),e.jsx(D,{}),a&&e.jsx(u,{}),e.jsx("h2",{className:" font-bold m-3 md:text-3xl  dark:text-white text-black",children:"Shop Product"}),e.jsx("div",{className:"grid  lg:grid-cols-5 md:grid-cols-3 sm:grid-cols-2  gap-2 md:gap-6",children:l&&l.map(s=>e.jsxs("div",{className:"p-6  cursor-pointer product dark:shadow-2xl dark:bg-[#222] dark:text-white overflow-hidden group my-2 shadow-lg  relative ",children:[e.jsx("img",{src:s.imageCover,alt:s.title,className:"w-full"}),e.jsx("h2",{className:" text-green-500",children:s.category.name}),e.jsx("h2",{children:s.title.split(" ",2).join(" ")}),e.jsxs("div",{className:"flex items-center justify-between pb-4",children:[e.jsxs("span",{children:[s.price,"EGP"]}),e.jsxs("span",{children:[e.jsx(h,{icon:C,className:" text-yellow-300"}),s.ratingsAverage]})]}),e.jsxs("button",{onClick:t=>{v(s._id),t.preventDefault()},className:"bg-[#17f317] absolute group-hover:translate-y-0  left-[50%] translate-x-[-50%] transition-all bottom-2 translate-y-[150%] right-1 w-[80%]  p-1 text-white rounded-lg flex items-center justify-center ",children:[e.jsx("span",{className:"me-2",children:e.jsx("img",{className:"w-6",src:P,alt:""})})," ","Add to cart"]}),e.jsx("button",{onClick:t=>{w(s._id),t.preventDefault()},className:"absolute  transition-all top-0 left-1 h-3 w-3 p-3  rounded flex items-center justify-center",children:e.jsx("i",{className:"fa-regular fa-heart",id:s._id})}),e.jsx(S,{to:`/productDetails/${s._id}`,className:"absolute right-1 top-0 hover:text-[red] transition-all duration-500",children:e.jsx(h,{icon:L})})]},s._id))})]})]})}export{M as default};
