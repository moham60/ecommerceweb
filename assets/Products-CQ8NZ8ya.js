import{r as a,j as t,L as x}from"./index-jfdzf-Pp.js";import{a as h}from"./axios-upsvKRUO.js";import{L as n}from"./LoaderScreen-DlzG3qX2.js";import{F as b,f as j}from"./index-D5A-oj_5.js";import{a as y}from"./aos.esm-UYJHm_6D.js";import{s as v}from"./shopping-cart-Br3O6plt.js";import{u as w}from"./useAddtoCart-Cr79bNXo.js";import{cartContext as k}from"./CartProvider-Bet4oSqe.js";import{b as N}from"./index-BZbZEz97.js";import"./Authentication-DKTycbqn.js";function z(){const[i,d]=a.useState([]),[l,r]=a.useState([]),[c,o]=a.useState(!1);async function m(){return o(!0),h.get("https://ecommerce.routemisr.com/api/v1/products").then(e=>{console.log(e),o(!1),d(e.data.data),r(e.data.data)}).catch(e=>{o(!1),console.log(e)})}a.useEffect(()=>{y.init()},[]),a.useEffect(()=>{m()},[]);const u=w(),{isLoadingCartOperation:g}=a.useContext(k),f=e=>{if(e){const s=i.filter(p=>p.title.toLowerCase().includes(e.toLowerCase()));console.log(s),r(s)}else r(i)};return t.jsxs("div",{className:"dark:bg-black bg relative",children:[g?t.jsxs("div",{className:"fixed z-10 flex items-center justify-center left-0 right-0 top-0 bottom-0 bg-[#e9dede8c]",children:[t.jsx(n,{}),";"]}):"",t.jsxs("div",{className:"container mx-auto p-10",children:[c&&t.jsx(n,{}),t.jsx("input",{onInput:e=>{f(e.target.value)},autoFocus:!0,type:"text",id:"searchInpt",name:"searchInpt",autoComplete:"off",className:"bg-gray-50  w-full focus:outline-0  border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block  ps-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"search for Product By  Title",required:!0}),t.jsx("div",{className:"grid gap-6 lg:grid-cols-5 md:grid-cols-3 sm:grid-cols-2",children:l&&l.map(e=>t.jsxs(x,{"data-aos":"fade-up","data-aos-easing":"ease-in-out","data-aos-delay":"100","data-aos-duration":"1000",to:`/productDetails/${e._id}`,className:"p-6  hover:shadow-emerald-300 transition-all duration-700 rounded-lg   bg-white dark:bg-gray-950 dark:text-white overflow-hidden group  cursor-pointer my-4 shadow-lg relative",children:[t.jsx(N.LazyLoadImage,{visibleByDefault:!1,className:"w-full  object-cover mb-4",src:e.imageCover,alt:e.title}),t.jsx("h2",{className:" text-green-500",children:e.category.name}),t.jsx("h2",{children:e.title.split(" ",2).join(" ")}),t.jsxs("div",{className:"flex items-center justify-between  pb-4",children:[t.jsxs("span",{children:[e.price,"EGP"]}),t.jsxs("span",{children:[t.jsx(b,{icon:j,className:" text-yellow-300"}),e.ratingsAverage]})]}),t.jsxs("button",{onClick:s=>{u(e._id),s.preventDefault()},className:"bg-[green] absolute group-hover:translate-y-0  left-[50%] translate-x-[-50%] transition-all bottom-2 translate-y-[150%] right-1 w-[80%]  p-1 text-white rounded-lg flex items-center justify-center ",children:[t.jsx("span",{className:"me-2",children:t.jsx("img",{className:"w-6",src:v,alt:""})}),"Add to cart"]})]},e._id))})]})]})}export{z as default};
