import{r as l,c as x,j as e,a as n,k as b}from"./index-BGavCeHx.js";import{u as g}from"./formik.esm-CRCOcXxe.js";import"./hoist-non-react-statics.cjs-C-Qo8PK8.js";function v(){const{cartId:a,userId:u,resetValues:c,getUserOders:d}=l.useContext(x);var i={details:"",phone:"",city:""};const[p,o]=l.useState(!0);function h(s){return n.post(`https://ecommerce.routemisr.com/api/v1/orders/${a}`,{shippingAddress:s},{headers:{token:localStorage.getItem("tkn")}}).then(r=>(console.log(r),b.success("Success to created order"),d(u),c(),!0)).catch(r=>(console.log(r),!1))}function f(s){return n.post(`https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${a}?url=http://localhost:5173`,{shippingAddress:s},{headers:{token:localStorage.getItem("tkn")}}).then(r=>(console.log(r),window.open(r.data.session.url,"_self"),!0)).catch(r=>(console.log(r),!1))}const t=g({initialValues:i,onSubmit:function(s){p?h(s):f(s)}});return e.jsx("div",{className:"py-10  dark:bg-gray-950 dark:text-white",children:e.jsxs("form",{onSubmit:t.handleSubmit,className:" shadow-lg p-5 dark:bg-gray-950 bg-white dark:shadow-sm-light w-[50%] rounded-lg mx-auto",children:[e.jsx("h1",{className:"text-center font-bold md:text-3xl",children:"Create Order"}),e.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[e.jsx("input",{value:t.values.details,onChange:t.handleChange,type:"text",name:"details",id:"details",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0}),e.jsx("label",{htmlFor:"details",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Your details"})]}),e.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[e.jsx("input",{value:t.values.city,onChange:t.handleChange,type:"text",name:"city",id:"city",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0}),e.jsx("label",{htmlFor:"city",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Your City"})]}),e.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[e.jsx("input",{value:t.values.phone,onChange:t.handleChange,type:"tel",name:"phone",id:"phone",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0}),e.jsx("label",{htmlFor:"phone",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Your Phone"})]}),e.jsxs("div",{className:"btns flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>{o(!0)},type:"submit",className:"text-white   bg-[#0a1179] hover:bg-[blue]   focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center  ",children:"Create order"}),e.jsx("button",{onClick:()=>{o(!1)},type:"submit",className:"  focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium text-white bg-[#0a1179] hover:bg-[blue]  rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center hover:text-white ",children:"Checkout"})]})]})})}export{v as default};
