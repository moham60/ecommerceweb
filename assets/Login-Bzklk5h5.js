import{u,r as o,b as g,j as e,L as b,a as x,k as h}from"./index-BAV778vQ.js";import{u as p}from"./formik.esm-D2QTMaXZ.js";import{c as k,a as l,S as f}from"./index.esm-6D7zv-98.js";import"./hoist-non-react-statics.cjs-C-Qo8PK8.js";function S(){const s=u(),{setToken:d}=o.useContext(g);let i={email:"",password:""};const[n,t]=o.useState(!1);async function m(c){t(!0),x.post("https://ecommerce.routemisr.com/api/v1/auth/signin",c).then(a=>{t(!1),h.success("welcome back",{duration:2e3,position:"top-center"}),(()=>{s("/home")})(),d(a.data.token),localStorage.setItem("tkn",a.data.token)}).catch(a=>{t(!1),f.fire({title:"Oops!",text:a.response.data.message,icon:"error",button:"Try Again"})})}const r=p({initialValues:{user:i},onSubmit:m,validationSchema:k().shape({email:l().email().required("email is required"),password:l().required("password is required")})});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:" py-8 login    dark:bg-black dark:text-white",children:[n?e.jsxs("div",{className:"fixed z-10 flex items-center justify-center left-0 right-0 top-0 bottom-0 bg-[#e9dede8c]",children:[e.jsx(b,{}),";"]}):"",e.jsxs("form",{className:" w-[90%] md:w-[50%] lg:w-[35%]  bg-white mx-auto shadow-lg dark:bg-black  dark:text-b rounded-lg p-5",onSubmit:r.handleSubmit,children:[e.jsx("h1",{className:"text-center dark:text-white my-2 text-black font-bold text-3xl",children:"Login Now"}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your email"}),e.jsx("input",{type:"email",id:"email",onChange:r.handleChange,onBlur:r.handleBlur,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:""}),r.errors.email&&r.touched.email?e.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 mt-2 rounded-lg bg-red-50 dark:bg-gray-800  dark:text-red-400 ",role:"alert",children:e.jsx("span",{className:"font-medium",children:r.errors.email})}):""]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your password"}),e.jsx("input",{type:"password",onChange:r.handleChange,onBlur:r.handleBlur,id:"password",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"}),r.errors.password&&r.touched.password?e.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 mt-2 rounded-lg bg-red-50 dark:bg-gray-800  dark:text-red-400 ",role:"alert",children:e.jsx("span",{className:"font-medium",children:r.errors.password})}):""]}),e.jsx("button",{type:"submit",className:"text-white bg-[#17f317] hover:bg-[#28da04] focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2 text-center ",children:"Login"})]}),e.jsx("button",{onClick:()=>{s("/forgotpass")},className:" mt-4 text-2xl hover:underline hover:text-[#17f317]",children:"Forgot your Password"})]})})}export{S as default};
