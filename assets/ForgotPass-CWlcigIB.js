import{r as i,u as h,j as e,L as p,a as n}from"./index-BAV778vQ.js";import{u as d}from"./formik.esm-D2QTMaXZ.js";import"./hoist-non-react-statics.cjs-C-Qo8PK8.js";function j(){const[c,u]=i.useState(!0),[m,o]=i.useState(!1);function b(t){o(!0),n.post("https://ecommerce.routemisr.com/api/v1/auth/forgotPasswords",{email:t}).then(r=>{console.log(r),o(!1)}).catch(r=>{console.log(r),o(!1)})}function g(t){return o(!0),n.post("https://ecommerce.routemisr.com/api/v1/auth/verifyResetCode",{resetCode:t}).then(l=>(console.log(l),o(!1),!0)).catch(l=>(console.log(l),o(!1),!1))}const f=h();async function x(t){const r=await g(t);console.log(r),r&&f("/changePass")}const a=d({initialValues:{email:""},onSubmit:function(t){var r;((r=t.email)==null?void 0:r.trim())!==""&&(b(t.email),u(!1))}}),s=d({initialValues:{resetCode:""},onSubmit:function(t){x(t.resetCode)}});return e.jsxs("div",{className:" py-8 login  relative   dark:bg-black dark:text-white",children:[m?e.jsxs("div",{className:"fixed flex items-center justify-center left-0 right-0 top-0 bottom-0 bg-[#e9dede8c]",children:[e.jsx(p,{}),";"]}):"",c?e.jsxs("form",{onSubmit:a.handleSubmit,className:"w-[90%] bg-white mx-auto shadow-lg dark:bg-white dark:text-b rounded-lg p-5",children:[e.jsx("h1",{className:"text-center my-2 text-black font-bold text-3xl",children:"Forgot Password"}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-black",children:"Your email"}),e.jsx("input",{type:"email",id:"email",name:"email",onChange:a.handleChange,value:a.values.email,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:""})]}),e.jsx("button",{type:"submit",className:"text-white bg-[#17f317] hover:bg-[#28da04] focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center ",children:"Confirm"})]}):e.jsxs("form",{onSubmit:s.handleSubmit,className:"w-[90%] bg-white mx-auto shadow-lg dark:bg-white dark:text-b rounded-lg p-5",children:[e.jsx("h1",{className:"text-center my-2 text-black font-bold text-3xl",children:"Enter Your verify Code"}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{htmlFor:"code",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-black",children:"Your verify code"}),e.jsx("input",{type:"text",id:"resetCode",name:"resetCode",onChange:s.handleChange,value:s.values.resetCode,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:""})]}),e.jsx("button",{type:"submit",className:"text-white bg-[#17f317] hover:bg-[#28da04] focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center ",children:"Verify"})]})]})}export{j as default};
